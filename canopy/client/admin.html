<template name="admin">

<meta name="viewport"
  content="width=device-width,
  minimum-scale=1.0, maximum-scale=1.0" />
  
<div class="admin-container">
<div class="rightlogin">{{loginButtons align="right"}}</div>
<h1>6.470 Jungle Adventures Admin Interface</h1>
{{#if isReady}}

<h2>Currently checking off for: <em>{{currentStatus}}</em></h2>
{{#each teams}}
<table>
  <tr>
    <td colspan="4" class="teamname">
        {{teamName}}
    </td>
  </tr>
  <tr>
    <td colspan="4" class="questiontype">
        HTML/CSS
    </td>
  </tr>
  <tr data-teamid = '{{_id}}'>
  {{#each contest.html}}
    {{#if isSet id 1}}
    <td class="{{#if solved}}done{{/if}} checkoffbtn" data-questionid='{{id}}' data-questiontype='html'>
      {{shorttitle}}
    </td>
    {{/if}}
  {{/each}}
  </tr>
  <tr data-teamid = '{{_id}}'>
  {{#each contest.html}}
    {{#if isSet id 2}}
    <td class="{{#if solved}}done{{/if}} checkoffbtn" data-questionid='{{id}}' data-questiontype='html'>
      {{shorttitle}}
    </td>
    {{/if}}
  {{/each}}
  </tr>
  <tr>
    <td colspan="4" class="questiontype">
        JS
    </td>
  </tr>
  <tr data-teamid = '{{_id}}'>
  {{#each contest.js}}
    {{#if isSet id 1}}
    <td class="{{#if solved}}done{{/if}} checkoffbtn" data-questionid='{{id}}' data-questiontype='js'>
      {{shorttitle}}
    </td>
    {{/if}}
  {{/each}}
  </tr>
  <tr data-teamid = '{{_id}}'>
  {{#each contest.js}}
    {{#if isSet id 2}}
    <td class="{{#if solved}}done{{/if}} checkoffbtn" data-questionid='{{id}}' data-questiontype='js'>
      {{shorttitle}}
    </td>
    {{/if}}
  {{/each}}
  </tr>
  <tr>
    <td colspan="4" class="questiontype">
        SQL ATTACK
    </td>
  </tr>
  <tr data-teamid = '{{_id}}'>
  {{#each contest.sql}}
    {{#if isSet id 1}}
    <td class="{{#if solved}}done{{/if}} checkoffbtn" data-questionid='{{id}}' data-questiontype='sql'>
      {{shorttitle}}
    </td>
    {{/if}}
  {{/each}}
  </tr>
  <tr data-teamid = '{{_id}}'>
  {{#each contest.sql}}
    {{#if isSet id 2}}
    <td class="{{#if solved}}done{{/if}} checkoffbtn" data-questionid='{{id}}' data-questiontype='sql'>
      {{shorttitle}}
    </td>
    {{/if}}
  {{/each}}
  </tr>
</table>
{{/each}}

{{#if hasStarted}}
<h2>The contest has started. We are currently on {{currentStatus}}. Click a button to advance to the next one</h2>
<p>{{currentStatus}} started at {{currentStartTime}}</p>
{{else}}
<h2>The contest has not started. Click HTML/CSS to start!</h2>
{{/if}}

<button id='html' class='start'>Start HTML/CSS</button>
<button id='js' class='start'>Start Javascript</button>
<button id='sql' class='start'>Start SQL</button>
<button id='none' class='start'>Stop the contest</button>

<h2>Add a new team</h2>
<form action='' method='post'>
  <div><label>Team name</label><input type='text' id='teamname' /></div>
  <div><label>Team member 1</label><input type='text' id='member1name' /></div>
  <div><label>Email</label><input type='text' id='member1email' /></div>
  <div><label>Team member 2</label><input type='text' id='member2name' /></div>
  <div><label>Email</label><input type='text' id='member2email' /></div>
  <div><label>Team member 3</label><input type='text' id='member3name' /></div>
  <div><label>Email</label><input type='text' id='member3email' /></div>
  <div><input type='checkbox' value='beginner' id='beginnerteam' /><label>Beginner?</label></div>
  <div><div class='newteam'>Create Team</div></div>
</form>
{{else}}
Loading...
{{/if}}
</div>
</template>